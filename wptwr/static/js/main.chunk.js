(this.webpackJsonpwptwr=this.webpackJsonpwptwr||[]).push([[0],{15:function(e,a,t){e.exports=t.p+"static/media/logo.6ad05eed.svg"},18:function(e,a,t){e.exports=t(32)},25:function(e,a,t){},31:function(e,a,t){},32:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(8),c=t.n(r),l=t(4),s=(t(25),t(15)),i=t.n(s);var u=function(){return o.a.createElement("div",{id:"head-nav-bar"},o.a.createElement("div",{id:"logo"},o.a.createElement(l.b,{to:"/"},o.a.createElement("img",{src:i.a,alt:"Logo"}))),o.a.createElement("div",{id:"logotext"},"Travel With Reason"))},m=t(2),d=t(6),g=t(5);const v={show:!0},b={show:!1},p=Object(g.b)({name:"modal",initialState:{value:b},reducers:{openModal:e=>{e.value=v},closeModal:e=>{e.value=b}}}),{openModal:E,closeModal:h}=p.actions;var f=p.reducer;const w={current_user:{uid:0,roles:[],name:""},csrf_token:null,logout_token:null},y=Object(g.b)({name:"user",initialState:{value:w},reducers:{login:(e,a)=>{e.value=a.payload},logout:e=>{e.value=w}}}),{login:k,logout:S}=y.actions;var N=y.reducer;const C="https://travelwithreason.com/wp-json",j="".concat(C,"/session/token"),O="".concat(C,"/user/login"),_="".concat(C,"/user/logout");"".concat(C,"/frontpage"),"".concat(C,"/news"),"".concat(C,"/guides"),"".concat(C,"/store"),"".concat(C,"/community"),"".concat(C,"/about"),"".concat(C,"/contact"),"".concat(C,"/vendors"),"".concat(C,"/terms"),"".concat(C,"/privacy"),"".concat(C,"/orders"),"".concat(C,"/search"),"".concat(C,"/register");const T={},L=Object(g.b)({name:"session",initialState:{value:T},reducers:{newSession:(e,a)=>{e.value=a.payload},endSession:e=>{e.value=T}}}),{newSession:P,endSession:F}=L.actions;var R=L.reducer;var U=function(e){let{children:a}=e;const t=Object(d.b)();return o.a.createElement("div",{className:"modal-bg",onClick:e=>(e=>{"modal-bg"===e.target.className&&t(h())})(e)},o.a.createElement("section",{className:"modal-main"},a))};var M=function(){const e=Object(d.b)(),[a,t]=Object(n.useState)(null),[r,c]=Object(n.useState)(""),[l,s]=Object(n.useState)("");function i(a){a.preventDefault(),r.length>0&&l.length>0?async function(){try{const e=await fetch(j);return{csrf_token:await e.text()}}catch{return{message:"There was a problem with your session."}}}().then(a=>{a.csrf_token?(e(P(a)),async function(e,a,t){const n={method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":t},body:JSON.stringify({name:e,pass:a})},o="?"+new URLSearchParams({_format:"json"});try{const e=await fetch(O+o,n);return await e.json()}catch{return{message:"There was a problem with your request."}}}(r,l,a.csrf_token).then(a=>{a.current_user?(e(k(a)),e(h())):t(a.message)})):t(a.message)}):t("Missing username or password!")}return o.a.createElement("form",{id:"site-form"},o.a.createElement("div",{className:"title-label"},"SIGN IN"),a?o.a.createElement("div",{className:"error-label"},a):null,o.a.createElement("div",{className:"label-login"},"Username"),o.a.createElement("input",{className:"field-login",type:"text",name:"username",onChange:e=>{c(e.target.value)},value:r}),o.a.createElement("div",{className:"label-login"},"Password"),o.a.createElement("input",{className:"field-login",type:"password",name:"password",onChange:e=>{s(e.target.value)},value:l}),o.a.createElement("a",{className:"link-label",href:"/forgot"},"Forgot Password"),o.a.createElement("input",{className:"button",type:"submit",name:"login",value:"Sign In",onClick:e=>{i(e)}}),o.a.createElement("a",{className:"link-label",href:"/register"},"Create Account"))};var x=function(){const e=Object(d.c)(e=>e.user.value),a=Object(d.c)(e=>e.modal.value),t=Object(m.m)(),n=Object(d.b)();return o.a.createElement("div",{id:"usercontrol"},a.show&&o.a.createElement(U,{children:o.a.createElement(M,null)}),o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"userbutton",onClick:()=>{t.push("/orders")}},o.a.createElement("span",{role:"img","aria-label":"cart"},"\ud83d\uded2")," Orders"),o.a.createElement("span",{className:"userbutton",onClick:()=>{t.push("/search")}},o.a.createElement("span",{role:"img","aria-label":"find"},"\ud83d\udd0d")," Search")),""===e.current_user.name?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"userbutton",onClick:()=>{t.push("/register")}},o.a.createElement("span",{role:"img","aria-label":"new"},"\ud83c\udd95")," Sign Up"),o.a.createElement("span",{className:"userbutton",onClick:function(){n(E())}},o.a.createElement("span",{role:"img","aria-label":"head"},"\ud83d\udc64")," Log In")):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"userbutton",onClick:()=>{t.push("/account")}},o.a.createElement("span",{role:"img","aria-label":"head"},"\ud83d\udc64")," Account"),o.a.createElement("span",{className:"userbutton",onClick:function(){(async function(e,a){const t={method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":a}},n="?"+new URLSearchParams({_format:"json",token:e});try{const e=await fetch(_+n,t);return await e.json()}catch{return{message:"Logged out."}}})(e.logout_token,e.csrf_token).then(e=>{console.log(e.message),n(S()),n(F())})}},o.a.createElement("span",{role:"img","aria-label":"door"},"\ud83d\udeaa")," Log Out")))};var I=function(){return o.a.createElement("div",{id:"footer"},o.a.createElement("div",null,"\xa9 2023 Travel With Reason, LLC"))};var W=function(){return o.a.createElement("div",{id:"nav-container"},o.a.createElement("div",{className:"navigation"},o.a.createElement(l.b,{to:"/news"},"News"),o.a.createElement(l.b,{to:"/guides"},"Guides"),o.a.createElement(l.b,{to:"/store"},"Store"),o.a.createElement(l.b,{to:"/community"},"Community"),o.a.createElement(l.b,{to:"/about"},"About Us"),o.a.createElement(l.b,{to:"/contact"},"Contact Us"),o.a.createElement(l.b,{to:"/vendors"},"Our Vendors"),o.a.createElement(l.b,{to:"/terms"},"Terms of Use"),o.a.createElement(l.b,{to:"/privacy"},"Privacy Policy")))};t(31);var A=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u,null),o.a.createElement(W,null),o.a.createElement(x,null),o.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const J=[{nid:[{value:"0"}],title:[{value:"Loading..."}],body:[{value:"Loading..."}]}],B=Object(g.b)({name:"content",initialState:{value:J},reducers:{pushContent:(e,a)=>{e.value=a.payload},purgeContent:e=>{e.value=J}}}),{pushContent:G,purgeContent:X}=B.actions;var q=B.reducer;const D=Object(g.a)({reducer:{session:R,user:N,modal:f,content:q}});c.a.createRoot(document.getElementById("root")).render(o.a.createElement(l.a,null,o.a.createElement(o.a.StrictMode,null,o.a.createElement(d.a,{store:D},o.a.createElement(A,null))))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[18,1,2]]]);
//# sourceMappingURL=main.chunk.js.map