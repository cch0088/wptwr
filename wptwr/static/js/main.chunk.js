(this.webpackJsonpwptwr=this.webpackJsonpwptwr||[]).push([[0],{42:function(e,a,t){e.exports=t.p+"static/media/logo.e9286273.svg"},43:function(e,a,t){e.exports=t.p+"static/media/logotext.1ad91849.svg"},74:function(e,a,t){e.exports=t(87)},81:function(e,a,t){},87:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(61),o=t.n(l);t(81);const s=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),c=(e,a)=>e===a,i=e=>"/"!==e?"/".concat(e,"/"):e,m="WordPress",u=i(m)+"graphql";var d=t(28),p=t(5),g=t(42),b=t.n(g),E=t(43),v=t.n(E);var h=function(){const e=Object(p.p)();return r.a.createElement("div",{id:"branding",onClick:()=>{e(i(m))}},r.a.createElement("div",{id:"logo"},r.a.createElement("img",{src:b.a,alt:"Logo"})),r.a.createElement("div",{id:"logotext"},r.a.createElement("img",{src:v.a,alt:"Logo Text"})))},f=t(13),w=t(12),N=t(26);const j={show:!0},O={show:!1},y=Object(N.b)({name:"modal",initialState:{value:O},reducers:{openModal:e=>{e.value=j},closeModal:e=>{e.value=O}}}),{openModal:k,closeModal:S}=y.actions;var C=y.reducer;var I,P=function(e){let{children:a}=e;const t=Object(w.b)();return r.a.createElement("div",{className:"modal-bg",onClick:e=>(e=>{"modal-bg"===e.target.className&&t(S())})(e)},r.a.createElement("section",{className:"modal-main"},a))},x=t(101),$=t(93),W=t(104);const F={loggedIn:!1,user:void 0,loading:!1,error:void 0},U=Object(n.createContext)(F),R=Object(x.a)(I||(I=Object(f.a)(["\n  query getUser {\n    viewer {\n      id\n      databaseId\n      firstName\n      lastName\n      email\n      capabilities\n    }\n  }\n"])));function A(e){let{children:a}=e;const{data:t,loading:n,error:l}=Object(W.a)(R),o=null===t||void 0===t?void 0:t.viewer,s={loggedIn:Boolean(o),user:o,loading:n,error:l};return r.a.createElement(U.Provider,{value:s},a)}var L,_=()=>Object(n.useContext)(U);var D,q=function(e){let{setForm:a}=e;const t=Object(w.b)(),[l,o]=Object(n.useState)(null),[s,c]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),u=Object(x.a)(L||(L=Object(f.a)(["\n        mutation logIn($login: String!, $password: String!) {\n        loginWithCookies(input: { login: $login password: $password })\n        { status } }"]))),[d,{loading:p}]=Object($.a)(u,{refetchQueries:[{query:R}]});return r.a.createElement("form",{id:"site-form"},r.a.createElement("div",{className:"title-label"},"SIGN IN"),l?r.a.createElement("div",{className:"error-label"},l):null,r.a.createElement("div",{className:"label-login"},"Username"),r.a.createElement("input",{className:"field-login",type:"text",name:"username",value:s,onChange:e=>{c(e.target.value)}}),r.a.createElement("div",{className:"label-login"},"Password"),r.a.createElement("input",{className:"field-login",type:"password",name:"password",value:i,onChange:e=>{m(e.target.value)}}),r.a.createElement("span",{className:"link-label",onClick:()=>{a(3)}},"Forgot Password"),r.a.createElement("input",{className:"button",type:"submit",name:"login",value:"Sign In",onClick:e=>{!function(e){e.preventDefault(),s.length>0&&i.length>0?d({variables:{login:s,password:i}}).then(e=>t(S())).catch(e=>o("Invalid username or password!")):o("Missing username or password.")}(e)},disabled:p}),r.a.createElement("span",{className:"link-label",onClick:()=>{a(2)}},"Create Account"))},B=t(46),T=t.n(B);var z=function(e){let{setForm:a}=e;const[t,l]=Object(n.useState)(null),[o,c]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(!1),[p,g]=Object(n.useState)(""),b=Object(x.a)(D||(D=Object(f.a)(["\n        mutation registerUser(\n            $username: String!\n            $email: String!\n            $password: String!\n        ) {\n            registerUser(\n                input: {\n                username: $username\n                email: $email\n                password: $password\n                }\n            ) { user { databaseId } }\n        }"]))),[E,{loading:v}]=Object($.a)(b);return r.a.createElement("form",{id:"site-form"},r.a.createElement("div",{className:"title-label"},"SIGN UP"),t?r.a.createElement("div",{className:"error-label"},t):null,r.a.createElement("div",{className:"label-login"},"Username"),r.a.createElement("input",{className:"field-login",type:"text",name:"username",value:o,onChange:e=>{c(e.target.value)}}),r.a.createElement("div",{className:"label-login"},"E-mail"),r.a.createElement("input",{className:"field-login",type:"email",name:"email",value:p,onChange:e=>{g(e.target.value)}}),r.a.createElement("div",{className:"label-login"},"Password"),r.a.createElement("input",{className:"field-login",type:"password",name:"password",value:i,onChange:e=>{m(e.target.value)}}),r.a.createElement(T.a,{className:"password-bar",password:i,scoreWords:["Weak","Acceptable","Good","Strong","Excellent"],shortScoreWord:"Weak"}),r.a.createElement("div",{className:"label-login"},"I'm not a bot"),r.a.createElement("input",{className:"human-check",type:"checkbox",name:"human",value:"human",onChange:e=>d(e.target.checked)}),r.a.createElement("input",{className:"button",type:"submit",name:"register",value:"Sign Up",disabled:!u||v,onClick:e=>{!function(e){e.preventDefault(),u&&o.length>0&&i.length>0&&s(p)?E({variables:{username:o,email:p,password:i}}).then(e=>a(0)).catch(e=>l("Username or e-mail already taken.")):s(p)?l("Check that all fields are filled."):l("Invalid e-mail provided.")}(e)}}))};var M,G=function(){const e=Object(w.b)();return r.a.createElement("form",{id:"site-form"},r.a.createElement("div",{className:"label-login"},"Please check your e-mail for next steps."),r.a.createElement("input",{className:"button",type:"button",name:"ok",value:"OK",onClick:()=>{e(S())}}))};var J,Q=function(e){let{setForm:a}=e;const[t,l]=Object(n.useState)(null),[o,c]=Object(n.useState)(""),[i,m]=Object(n.useState)(!1),u=Object(x.a)(M||(M=Object(f.a)(["\n        mutation sendPasswordResetEmail($username: String!) {\n        sendPasswordResetEmail(\n            input: { username: $username }\n        ) { user { databaseId } } }"]))),[d,{loading:p}]=Object($.a)(u);return r.a.createElement("form",{id:"site-form"},r.a.createElement("div",{className:"title-label"},"PASSWORD RESET"),t?r.a.createElement("div",{className:"error-label"},t):null,r.a.createElement("div",{className:"label-login"},"E-mail"),r.a.createElement("input",{className:"field-login",type:"email",name:"email",value:o,onChange:e=>{c(e.target.value)}}),r.a.createElement("div",{className:"label-login"},"I'm not a bot"),r.a.createElement("input",{className:"human-check",type:"checkbox",name:"human",value:"human",onChange:e=>m(e.target.checked)}),r.a.createElement("input",{className:"button",type:"submit",name:"send",value:"Request",onClick:e=>{!function(e){e.preventDefault(),s(o)?d({variables:{username:o}}).then(e=>a(0)).catch(e=>l("E-mail could not be sent.")):s(o)?l("Check that all fields are filled."):l("Invalid e-mail provided.")}(e)},disabled:!i||p}))};var Z=function(){const e=Object(w.c)(e=>e.modal.value),[a,t]=Object(n.useState)(0),l=Object(w.b)(),{loggedIn:o,loading:s}=_(),c=Object(x.a)(J||(J=Object(f.a)(["\n        mutation logOut {\n            logout(input: {})\n            { status }\n        }"]))),[i]=Object($.a)(c,{refetchQueries:[{query:R}]}),m=e=>{t(e),l(k())};return r.a.createElement("div",{id:"usercontrol"},0===a&&e.show&&r.a.createElement(P,{children:r.a.createElement(G,null)}),1===a&&e.show&&r.a.createElement(P,{children:r.a.createElement(q,{setForm:t})}),2===a&&e.show&&r.a.createElement(P,{children:r.a.createElement(z,{setForm:t})}),3===a&&e.show&&r.a.createElement(P,{children:r.a.createElement(Q,{setForm:t})}),!o&&!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"userbutton",onClick:()=>{m(2)}},r.a.createElement("span",{role:"img","aria-label":"new"},"\ud83c\udd95")," Sign Up"),r.a.createElement("span",{className:"userbutton",onClick:()=>{m(1)}},r.a.createElement("span",{role:"img","aria-label":"head"},"\ud83d\udc64")," Log In")),o&&!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"userbutton",href:"wp-admin"},r.a.createElement("span",{role:"img","aria-label":"head"},"\ud83d\udc64")," Account"),r.a.createElement("span",{className:"userbutton",onClick:()=>{i()}},r.a.createElement("span",{role:"img","aria-label":"door"},"\ud83d\udeaa")," Log Out")),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"userbutton"},r.a.createElement("span",{role:"img","aria-label":"hourglass"},"\u23f3")," Loading...")))};var K=function(){return r.a.createElement("div",{className:"footer-row"},r.a.createElement("div",{id:"logo-footer"},r.a.createElement("img",{src:b.a,alt:"Logo"})),r.a.createElement("div",{id:"logotext-footer"},r.a.createElement("img",{src:v.a,alt:"Logo Text"})),r.a.createElement("div",{className:"footer-about"},r.a.createElement("span",{className:"footer-span"},"A privacy focused travel community site.")),r.a.createElement("a",{className:"footer-button",href:"contact-page"},"Contact"))};var H=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"head-wrap"},r.a.createElement("div",{id:"head-container"},r.a.createElement(h,null),r.a.createElement(Z,null))),r.a.createElement("div",{id:"content-wrap"},r.a.createElement(p.a,null)),r.a.createElement("div",{id:"footer-wrap"},r.a.createElement(K,null)));async function V(e){try{const a=await fetch(e);return await a.json()}catch{return{message:"Access Error"}}}const X=[{id:0,date:null,date_gmt:null,guid:{rendered:""},modified:null,modified_gmt:null,slug:null,status:null,type:null,link:null,title:{rendered:""},content:{rendered:"",protected:!1},excerpt:{rendered:"",protected:!1},author:0,featured_media:0,parent:0,menu_order:0,comment_status:"closed",ping_status:"closed",template:"",meta:{footnotes:""},_links:{self:[],collection:[],about:[],author:[],replies:[],"version-history":[],"predecessor-version":[],"wp:attachment":[],curies:[{name:"wp",href:"https://api.w.org/{rel}",templated:!0}]}}],Y=Object(N.b)({name:"content",initialState:{value:X},reducers:{pushContent:(e,a)=>{e.value=a.payload},purgeContent:e=>{e.value=X}}}),{pushContent:ee,purgeContent:ae}=Y.actions;var te=Y.reducer;var ne=function(e){let{route:a}=e;const t=Object(w.b)(),l=Object(w.c)(e=>e.content.value);Object(n.useEffect)(()=>{V(a).then(e=>{t(ee(e))})},[t,a]);const o=l[0].content.rendered.replace(/(<([^>]+)>)/gi,"").split(/\s+/).filter(e=>""!==e);return r.a.createElement("div",{id:"card-container"},o.map((e,a)=>{const[t,n,l]=e.split(":");return r.a.createElement("a",{key:a,href:n,className:"card"},r.a.createElement("img",{className:"card-photo",alt:t,src:"".concat("wp-content/uploads","/").concat(l)}),r.a.createElement("div",{className:"card-text"},t))}))};var re=function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"heading-container"},r.a.createElement("h2",null,"Website is under construction")),r.a.createElement(ne,{route:"wp-json/wp/v2/pages/?slug=main-menu"}))};var le,oe=function(){return r.a.createElement("div",{className:"slide"},"Resource not found")};var se=function(e){let{pkey:a,login:t}=e;const l=Object(p.p)(),[o,s]=Object(n.useState)(null),[u,d]=Object(n.useState)(""),[g,b]=Object(n.useState)(""),E=Object(x.a)(le||(le=Object(f.a)(["\n        mutation resetUserPassword(\n            $key: String!\n            $login: String!\n            $password: String!\n        ) {\n            resetUserPassword(\n            input: {\n                key: $key\n                login: $login\n                password: $password\n            }\n            ) {\n            user {\n                databaseId\n            }\n            }\n        }"]))),[v,{loading:h}]=Object($.a)(E);return r.a.createElement("form",{id:"site-form"},r.a.createElement("div",{className:"title-label"},"PASSWORD RESET"),o?r.a.createElement("div",{className:"error-label"},o):null,r.a.createElement("div",{className:"label-login"},"New password for ",t),r.a.createElement("div",{className:"label-login"},"Password"),r.a.createElement("input",{className:"field-login",type:"password",name:"password",value:u,onChange:e=>{d(e.target.value)}}),r.a.createElement("div",{className:"label-login"},"Confirm Password"),r.a.createElement("input",{className:"field-login",type:"password",name:"password",value:g,onChange:e=>{b(e.target.value)}}),r.a.createElement(T.a,{className:"password-bar",password:u,scoreWords:["Weak","Acceptable","Good","Strong","Excellent"],shortScoreWord:"Weak"}),r.a.createElement("input",{className:"button",type:"submit",name:"reset",value:"Reset",onClick:e=>{!function(e){e.preventDefault(),u.length>0&&c(u,g)?v({variables:{key:a,login:t,password:u}}).then(e=>l(i(m))).catch(e=>s("Error resetting password.")):c(u,g)?s("Check that all fields are filled."):s("Passwords do not match.")}(e)},disabled:h}),r.a.createElement("span",{className:"link-label",onClick:()=>{l(i(m))}},"Cancel"))};var ce=function(e){let{currentUrl:a}=e;const t=Object(p.p)(),[l,o]=Object(n.useState)(),[s,c]=Object(n.useState)();return Object(n.useEffect)(()=>{if(a&&a.includes("set-password")){const e=new URLSearchParams(a),t=[];e.forEach(e=>t.push(e)),o(t[0]),c(t[1])}else t(i(m))},[a,t]),r.a.createElement(P,{children:r.a.createElement(se,{pkey:l,login:s})})};const ie=[{id:1,count:1,description:"",link:"https://localhost/WordPress/category/uncategorized/",name:"Uncategorized",slug:"uncategorized",taxonomy:"category",parent:0,meta:[],_links:{self:[{href:"https://localhost/WordPress/wp-json/wp/v2/categories/1"}],collection:[{href:"https://localhost/WordPress/wp-json/wp/v2/categories"}],about:[{href:"https://localhost/WordPress/wp-json/wp/v2/taxonomies/category"}],"wp:post_type":[{href:"https://localhost/WordPress/wp-json/wp/v2/posts?categories=1"}],curies:[{name:"wp",href:"https://api.w.org/{rel}",templated:!0}]}}],me=Object(N.b)({name:"forumContent",initialState:{value:ie},reducers:{pushForumContent:(e,a)=>{e.value=a.payload},purgeForumContent:e=>{e.value=ie}}}),{pushForumContent:ue,purgeForumContent:de}=me.actions;var pe=me.reducer;var ge,be=function(e){let{setCategoryId:a,setCategoryName:t}=e;const l="wp-json/wp/v2/categories",o=Object(w.b)(),s=Object(w.c)(e=>e.forum.value),c=Object(p.p)();Object(n.useEffect)(()=>{V(l).then(e=>{o(ue(e))})},[o,l]);const i=[],m=[];return s.forEach(e=>{e.parent>0?m.push({id:e.id,name:e.name,description:e.description,link:e.link,parent:e.parent}):i.push({id:e.id,name:e.description})}),r.a.createElement("div",{className:"forum-list-container"},i.map(e=>r.a.createElement("div",{className:"forum-section",key:e.id},r.a.createElement("div",{className:"forum-category"},e.name),m.filter(a=>a.parent===e.id).map(e=>r.a.createElement("div",{key:e.id,className:"forum-topic",onClick:n=>{return r=e.id,l=e.name,a(Number(r)),t(l),void c("threads");var r,l}},r.a.createElement("span",{className:"bubble",role:"img","aria-label":"topic"},"\ud83d\udde8\ufe0f"),r.a.createElement("div",{className:"forum-topic-node"},r.a.createElement("div",{className:"forum-topic-name"},e.name),r.a.createElement("div",{className:"forum-topic-description"},e.description)))))))};var Ee=function(e){let{categoryId:a,categoryName:t}=e;const[l,o]=Object(n.useState)([]),[s,c]=Object(n.useState)(t),i=Object(x.a)(ge||(ge=Object(f.a)(["\n        query getPostsByCategory(\n                $categoryId: Int!\n            )\n        {\n            posts(where: {categoryId: $categoryId}) {\n                nodes {\n                    postId\n                    title\n                    date\n                    author { node { name } }\n                    isSticky\n                    editingLockedBy { node { name } }\n                }\n            }\n        }"]))),{loading:m,error:u,data:d}=Object(W.a)(i,{variables:{categoryId:a}});return Object(n.useEffect)(()=>{m?c("Loading..."):u?c("Nothing to show here. There was a problem with your request."):d.posts.nodes[0]?(c(null),o(d.posts.nodes)):c("Nothing to show here. Feel free to add a topic.")},[m,u,d]),r.a.createElement("div",{className:"forum-list-container"},r.a.createElement("div",{className:"forum-section"},r.a.createElement("div",{className:"forum-category"},t),r.a.createElement("div",null,s),l.map(e=>{return r.a.createElement("div",{key:e.postId,id:e.postId,className:"forum-topic"},r.a.createElement("span",{className:"bubble",role:"img","aria-label":"topic"},"\ud83d\udde8\ufe0f"),r.a.createElement("div",{className:"forum-topic-node"},r.a.createElement("div",{className:"forum-topic-name"},e.title),r.a.createElement("div",{className:"forum-topic-description"},"By ",e.author.node.name," on ",(a=e.date,Intl.DateTimeFormat("en-US",{year:"numeric",day:"2-digit",month:"long",hour:"2-digit",minute:"2-digit"}).format(new Date(a))))));var a})),!u&&r.a.createElement("button",{className:"forum-button"},"New topic"))},ve=t(99),he=t(68),fe=t(100),we=t(102);const Ne=Object(he.a)({uri:u,credentials:"include"}),je=new fe.a({cache:new we.a,link:Ne});var Oe=function(){const e=window.location.href,[a,t]=Object(n.useState)(),[l,o]=Object(n.useState)();return r.a.createElement(ve.a,{client:je},r.a.createElement(A,null,r.a.createElement(d.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:m,element:r.a.createElement(H,null)},r.a.createElement(p.b,{index:!0,element:r.a.createElement(re,null)}),r.a.createElement(p.b,{path:"set-password",element:r.a.createElement(ce,{currentUrl:e})}),r.a.createElement(p.b,{path:"forum",element:r.a.createElement(be,{setCategoryId:t,setCategoryName:o})}),r.a.createElement(p.b,{path:"forum/threads",element:r.a.createElement(Ee,{categoryId:a,categoryName:l})}),r.a.createElement(p.b,{path:"*",element:r.a.createElement(oe,null)}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const ye=Object(N.a)({reducer:{modal:C,content:te,forum:pe}});o.a.createRoot(document.getElementById("root")).render(r.a.createElement(w.a,{store:ye},r.a.createElement(Oe,null))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[74,1,2]]]);
//# sourceMappingURL=main.chunk.js.map