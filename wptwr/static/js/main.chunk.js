(this.webpackJsonpwptwr=this.webpackJsonpwptwr||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/logo.e9286273.svg"},16:function(e,t,a){e.exports=a.p+"static/media/logotext.1ad91849.svg"},19:function(e,t,a){e.exports=a(33)},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(7),r=a.n(o);a(26),a(27);const l="".concat("","/wp-json"),s="".concat(""),i=("".concat(s,"/session/token"),"".concat(s,"/user/login"),"".concat(s,"/user/logout"),"".concat(s,"/frontpage"),"".concat(s,"/news"),"".concat(s,"/guides"),"".concat(s,"/store"),"".concat(s,"/community"),"".concat(s,"/about"),"".concat(s,"/contact"),"".concat(s,"/vendors"),"".concat(s,"/terms"),"".concat(s,"/privacy"),"".concat(s,"/orders"),"".concat(s,"/search"),"".concat(s,"/register"),"".concat(l,"/session/token")),u="".concat(l,"/user/login"),m="".concat(l,"/user/logout");"".concat(l,"/frontpage"),"".concat(l,"/news"),"".concat(l,"/guides"),"".concat(l,"/store"),"".concat(l,"/community"),"".concat(l,"/about"),"".concat(l,"/contact"),"".concat(l,"/vendors"),"".concat(l,"/terms"),"".concat(l,"/privacy"),"".concat(l,"/orders"),"".concat(l,"/search"),"".concat(l,"/register"),"".concat(l,"/wp/v2/posts");var d=a(8),g=a(2),v=a(15),p=a.n(v),h=a(16),b=a.n(h);var E=function(){return c.a.createElement("div",{id:"head-nav-bar"},c.a.createElement("div",{id:"logo"},c.a.createElement("img",{src:p.a,alt:"Logo"})),c.a.createElement("div",{id:"logotext"},c.a.createElement("img",{src:b.a,alt:"Logo Text"})))},f=a(5),w=a(4);const y={show:!0},k={show:!1},j=Object(w.b)({name:"modal",initialState:{value:k},reducers:{openModal:e=>{e.value=y},closeModal:e=>{e.value=k}}}),{openModal:N,closeModal:S}=j.actions;var C=j.reducer;const O={current_user:{uid:0,roles:[],name:""},csrf_token:null,logout_token:null},_=Object(w.b)({name:"user",initialState:{value:O},reducers:{login:(e,t)=>{e.value=t.payload},logout:e=>{e.value=O}}}),{login:L,logout:T}=_.actions;var x=_.reducer;const R={},F=Object(w.b)({name:"session",initialState:{value:R},reducers:{newSession:(e,t)=>{e.value=t.payload},endSession:e=>{e.value=R}}}),{newSession:P,endSession:I}=F.actions;var M=F.reducer;var U=function(e){let{children:t}=e;const a=Object(f.b)();return c.a.createElement("div",{className:"modal-bg",onClick:e=>(e=>{"modal-bg"===e.target.className&&a(S())})(e)},c.a.createElement("section",{className:"modal-main"},t))};var W=function(){const e=Object(f.b)(),[t,a]=Object(n.useState)(null),[o,r]=Object(n.useState)(""),[l,s]=Object(n.useState)("");function m(t){t.preventDefault(),o.length>0&&l.length>0?async function(){try{const e=await fetch(i);return{csrf_token:await e.text()}}catch{return{message:"There was a problem with your session."}}}().then(t=>{t.csrf_token?(e(P(t)),async function(e,t,a){const n={method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":a},body:JSON.stringify({name:e,pass:t})},c="?"+new URLSearchParams({_format:"json"});try{const e=await fetch(u+c,n);return await e.json()}catch{return{message:"There was a problem with your request."}}}(o,l,t.csrf_token).then(t=>{t.current_user?(e(L(t)),e(S())):a(t.message)})):a(t.message)}):a("Missing username or password!")}return c.a.createElement("form",{id:"site-form"},c.a.createElement("div",{className:"title-label"},"SIGN IN"),t?c.a.createElement("div",{className:"error-label"},t):null,c.a.createElement("div",{className:"label-login"},"Username"),c.a.createElement("input",{className:"field-login",type:"text",name:"username",onChange:e=>{r(e.target.value)},value:o}),c.a.createElement("div",{className:"label-login"},"Password"),c.a.createElement("input",{className:"field-login",type:"password",name:"password",onChange:e=>{s(e.target.value)},value:l}),c.a.createElement("a",{className:"link-label",href:"/forgot"},"Forgot Password"),c.a.createElement("input",{className:"button",type:"submit",name:"login",value:"Sign In",onClick:e=>{m(e)}}),c.a.createElement("a",{className:"link-label",href:"/register"},"Create Account"))};var J=function(){const e=Object(f.c)(e=>e.user.value),t=Object(f.c)(e=>e.modal.value),a=Object(g.p)(),n=Object(f.b)();return c.a.createElement("div",{id:"usercontrol"},t.show&&c.a.createElement(U,{children:c.a.createElement(W,null)}),""===e.current_user.name?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"userbutton",onClick:()=>{a.push("/register")}},c.a.createElement("span",{role:"img","aria-label":"new"},"\ud83c\udd95")," Sign Up"),c.a.createElement("span",{className:"userbutton",onClick:function(){n(N())}},c.a.createElement("span",{role:"img","aria-label":"head"},"\ud83d\udc64")," Log In")):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"userbutton",onClick:()=>{a.push("/account")}},c.a.createElement("span",{role:"img","aria-label":"head"},"\ud83d\udc64")," Account"),c.a.createElement("span",{className:"userbutton",onClick:function(){(async function(e,t){const a={method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json","X-CSRF-Token":t}},n="?"+new URLSearchParams({_format:"json",token:e});try{const e=await fetch(m+n,a);return await e.json()}catch{return{message:"Logged out."}}})(e.logout_token,e.csrf_token).then(e=>{console.log(e.message),n(T()),n(I())})}},c.a.createElement("span",{role:"img","aria-label":"door"},"\ud83d\udeaa")," Log Out")))};var A=function(){return c.a.createElement("div",{id:"footer"},c.a.createElement("div",null,"\xa9 2023 Travel With Reason, LLC"))};var B=()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(E,null),c.a.createElement(J,null),c.a.createElement(g.a,null),c.a.createElement(A,null));var X=function(){return c.a.createElement("div",{id:"home-content"},c.a.createElement("div",{className:"slide"},"Website is under construction"))};var q=function(){return c.a.createElement("div",{id:"home-content"},c.a.createElement("div",{className:"slide"},"Resource not found"))};var D=function(){return c.a.createElement(d.a,null,c.a.createElement(g.d,null,c.a.createElement(g.b,{path:"".concat("","/"),element:c.a.createElement(B,null)},c.a.createElement(g.b,{index:!0,element:c.a.createElement(X,null)}),c.a.createElement(g.b,{path:"*",element:c.a.createElement(q,null)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const G=[{nid:[{value:"0"}],title:[{value:"Loading..."}],body:[{value:"Loading..."}]}],$=Object(w.b)({name:"content",initialState:{value:G},reducers:{pushContent:(e,t)=>{e.value=t.payload},purgeContent:e=>{e.value=G}}}),{pushContent:z,purgeContent:H}=$.actions;var K=$.reducer;const Q=Object(w.a)({reducer:{session:M,user:x,modal:C,content:K}});r.a.createRoot(document.getElementById("root")).render(c.a.createElement(f.a,{store:Q},c.a.createElement(D,null))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[19,1,2]]]);
//# sourceMappingURL=main.chunk.js.map