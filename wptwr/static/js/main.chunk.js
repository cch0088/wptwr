(this.webpackJsonpwptwr=this.webpackJsonpwptwr||[]).push([[0],{105:function(e,t,a){},184:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(85),r=a.n(o);a(105);const c=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),s=(e,t)=>e===t,i=e=>"/"!==e?"/".concat(e,"/"):e,m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"America/New_York";return e?"on "+new Date(e).toLocaleString(t,{timeZone:a,year:"numeric",day:"2-digit",month:"long",hour:"2-digit",minute:"2-digit"}):"just now"},d=i("/")+"graphql",u=i("/")+"wp-content/uploads",p=i("/")+"wp-json/wp/v2/pages/?slug=",g=(i("/"),i("/"),i("/")+"wp-json/wp/v2/categories?per_page=100"),b=i("/")+"user",E=i("/")+"wp-admin/options.php?page=plugin_delete_me_confirmation",v=i("/")+"forum",h=i("/")+"forum/threads",f=i("/")+"forum/threads/post",y=i("/")+"events",N=i("/")+"privacy-policy";i("/");var w=a(20),O=a(5),j=a(52),C=a.n(j),S=a(53),k=a.n(S);function I(){const e=Object(O.p)();return l.a.createElement("div",{id:"branding",onClick:()=>{e(i("/"))}},l.a.createElement("div",{id:"logo"},l.a.createElement("img",{src:C.a,alt:"Logo"})),l.a.createElement("div",{id:"logotext"},l.a.createElement("img",{src:k.a,alt:"Logo Text"})))}var P=a(10),$=a(23);const _={show:!0},L={show:!1},x=Object($.b)({name:"modal",initialState:{value:L},reducers:{openModal:e=>{e.value=_},closeModal:e=>{e.value=L}}}),{openModal:T,closeModal:F}=x.actions;var U,W,A,B,D,R,M,q,H,z,G,Y,K,Q,Z=x.reducer,J=a(191),V=a(13),X=a(200);const ee=Object(X.a)(U||(U=Object(V.a)(["\n    mutation logIn($login: String!, $password: String!) {\n    loginWithCookies(input: { login: $login password: $password })\n    { status } }"]))),te=Object(X.a)(W||(W=Object(V.a)(["\n    mutation logOut {\n        logout(input: {})\n        { status }\n    }"]))),ae=Object(X.a)(A||(A=Object(V.a)(["\n    query getUser {\n        viewer {\n            id\n            databaseId\n            username\n            firstName\n            lastName\n            email\n            capabilities\n            avatar {\n                url\n            }\n        }\n    }"]))),ne=Object(X.a)(B||(B=Object(V.a)(["\n    mutation registerUser(\n        $username: String!\n        $email: String!\n        $password: String!\n    ) {\n        registerUser(\n            input: {\n            username: $username\n            email: $email\n            password: $password\n            }\n        ) { user { databaseId } }\n    }"]))),le=(Object(X.a)(D||(D=Object(V.a)(["\n    mutation deleteUser(\n        $id: ID!\n    ) {\n        deleteUser(\n            input: {\n                id: $id\n            }\n        ) { user { databaseId } }\n    }"]))),Object(X.a)(R||(R=Object(V.a)(["\n    mutation resetUserPassword(\n        $key: String!\n        $login: String!\n        $password: String!) {\n        resetUserPassword(\n            input: {\n                key: $key\n                login: $login\n                password: $password\n            }) {\n            user { databaseId } } }"])))),oe=Object(X.a)(M||(M=Object(V.a)(["\n    mutation sendPasswordResetEmail($username: String!) {\n    sendPasswordResetEmail(\n        input: { username: $username }\n    ) { user { databaseId } } }"]))),re=Object(X.a)(q||(q=Object(V.a)(["\nquery getPostsByCategory(\n        $categoryId: Int!\n    )\n{\n    posts(where: {categoryId: $categoryId}) {\n        nodes {\n            postId\n            title\n            date\n            author { node { databaseId name } }\n            isSticky\n            editingLockedBy { node { databaseId name } }\n        }\n    }\n}"]))),ce=Object(X.a)(H||(H=Object(V.a)(["\nquery getPostsByCategory(\n        $categoryName: String!\n    )\n{\n    posts(where: {categoryName: $categoryName}) {\n        nodes {\n            postId\n            title\n            date\n            content\n            author { node { databaseId name } }\n            isSticky\n            editingLockedBy { node { databaseId name } }\n        }\n    }\n}"]))),se=Object(X.a)(z||(z=Object(V.a)(['\n    mutation newPost($slug: String!, $title: String!, $content: String!) {\n        createPost(\n        input: {\n            clientMutationId: "CreatePost",\n            title: $title,\n            content: $content,\n            categories: {\n                nodes: {slug: $slug}\n            },\n            status: PUBLISH\n        } ) {\n        post {\n            postId\n        } }\n}']))),ie=Object(X.a)(G||(G=Object(V.a)(['\n    mutation newPost($slug: String!, $title: String!, $content: String!) {\n        createPost(\n        input: {\n            clientMutationId: "CreatePost",\n            title: $title,\n            content: $content,\n            categories: {\n                nodes: {slug: $slug}\n            },\n            status: PUBLISH\n        } ) {\n        post {\n            postId\n        } }\n}']))),me=Object(X.a)(Y||(Y=Object(V.a)(["\nquery getPostById($postId: Int!) {\n    posts(where: {id: $postId}) {\n    nodes {\n        databaseId\n        title\n        content\n        author { node {\n            databaseId\n            name\n            avatar { url } } }\n        date\n        comments(where: {orderby: COMMENT_DATE, order: ASC}) {\n        edges { node {\n            databaseId\n            content\n            date\n            author { node {\n                databaseId\n                name\n                avatar { url } } } } } } } } }"]))),de=Object(X.a)(K||(K=Object(V.a)(["\nmutation setReply($commentOn: Int!, $content: String!) {\n    createComment(input: {\n            content: $content,\n            commentOn: $commentOn\n    })\n    {\n        clientMutationId\n        success\n    }\n}"]))),ue=Object(X.a)(Q||(Q=Object(V.a)(['\nquery GetPosts {\nposts(first: 5, where: {categoryName: "all"}) {\n        edges {\n            node {\n                title\n                date\n                databaseId\n                uri\n                author {\n                    node {\n                        databaseId\n                        name\n                        avatar {\n                            url\n                        }\n                    }\n                }\n            }\n        }\n    }\n}'])));function pe(e){let{children:t,disableClose:a}=e;const n=Object(P.b)();return l.a.createElement("div",{className:"modal-bg",onClick:e=>(e=>{"modal-bg"!==e.target.className||a||n(F())})(e)},l.a.createElement("section",{className:"modal-main"},t))}function ge(e){let{setForm:t}=e;const a=Object(P.b)(),[o,r]=Object(n.useState)(null),[c,s]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[d,{loading:u}]=Object(J.a)(ee,{refetchQueries:[{query:ae}]});return l.a.createElement("form",{id:"site-form"},l.a.createElement("div",{className:"title-label"},"LOG IN"),o?l.a.createElement("div",{className:"error-label"},o):null,l.a.createElement("div",{className:"label-login"},"Username or Nickname"),l.a.createElement("input",{className:"field-login",type:"text",name:"username",value:c,onChange:e=>{s(e.target.value)}}),l.a.createElement("div",{className:"label-login"},"Password"),l.a.createElement("input",{className:"field-login",type:"password",name:"password",value:i,onChange:e=>{m(e.target.value)}}),l.a.createElement("span",{className:"link-label",onClick:()=>{t(3)}},"Forgot Password"),l.a.createElement("input",{className:"button",type:"submit",name:"login",value:"Sign In",onClick:e=>{!function(e){e.preventDefault(),c.length>0&&i.length>0?d({variables:{login:c,password:i}}).then(e=>a(F())).catch(e=>r("Invalid username or password!")):r("Missing username or password.")}(e)},disabled:u}),l.a.createElement("span",{className:"link-label",onClick:()=>{t(2)}},"Create Account"))}var be=a(203);const Ee=Object(n.createContext)();function ve(e){let{children:t}=e;const{data:a,loading:n,error:o}=Object(be.a)(ae),r=null===a||void 0===a?void 0:a.viewer,c={loggedIn:Boolean(r),user:r,loading:n,error:o};return l.a.createElement(Ee.Provider,{value:c},t)}var he=()=>Object(n.useContext)(Ee),fe=a(55),ye=a.n(fe),Ne=a(202);function we(){return l.a.createElement("form",{id:"site-form"},l.a.createElement("div",{className:"label-login"},"Sending E-mail..."),l.a.createElement(Ne.a,{color:"#52bfd9"}))}function Oe(e){let{setForm:t,setBlockClose:a}=e;const[o,r]=Object(n.useState)(null),[i,m]=Object(n.useState)(""),[d,u]=Object(n.useState)(""),[p,g]=Object(n.useState)(""),[b,E]=Object(n.useState)(!1),[v,h]=Object(n.useState)(""),[f,{loading:y}]=Object(J.a)(ne);function N(){a(!1),E(!1)}return l.a.createElement(l.a.Fragment,null,y?l.a.createElement(we,null):l.a.createElement("form",{id:"site-form"},l.a.createElement("div",{className:"title-label"},"SIGN UP"),o?l.a.createElement("div",{className:"error-label"},o):null,l.a.createElement("div",{className:"label-login"},"Username or Nickname"),l.a.createElement("input",{className:"field-login",type:"text",name:"username",value:i,onChange:e=>{m(e.target.value)}}),l.a.createElement("div",{className:"label-login"},"E-mail"),l.a.createElement("input",{className:"field-login",type:"email",name:"email",value:v,onChange:e=>{h(e.target.value)}}),l.a.createElement("div",{className:"label-login"},"Password"),l.a.createElement("input",{className:"field-login",type:"password",name:"password",value:d,onChange:e=>{u(e.target.value)}}),l.a.createElement(ye.a,{className:"password-bar",password:d,scoreWords:["Weak","Acceptable","Good","Strong","Excellent"],shortScoreWord:"Weak"}),l.a.createElement("div",{className:"label-login"},"Confirm Password"),l.a.createElement("input",{className:"field-login",type:"password",name:"confirm-password",value:p,onChange:e=>{g(e.target.value)}}),l.a.createElement("div",{className:"label-login"},"I'm not a bot"),l.a.createElement("input",{className:"human-check",type:"checkbox",name:"human",value:"human",onChange:e=>E(e.target.checked)}),l.a.createElement("input",{className:"button",type:"submit",name:"register",value:"Sign Up",disabled:!(b&&i.length>0&&d.length>0&&v.length>0)||y,onClick:e=>{!function(e){e.preventDefault(),b&&i.length>0&&d.length>0&&c(v)?(a(!0),f({variables:{username:i,email:v,password:d}}).then(e=>{t(4)}).catch(e=>{N(),r("Username or e-mail already taken.")})):s(d,p)?c(v)?(N(),r("Check that all fields are filled.")):(N(),r("Invalid e-mail provided.")):(N(),r("Passwords do not match."))}(e)}})))}function je(){const e=Object(P.b)();return l.a.createElement("form",{id:"site-form"},l.a.createElement("div",{className:"label-login"},"Please check your e-mail for next steps."),l.a.createElement("input",{className:"button",type:"button",name:"ok",value:"OK",onClick:()=>{e(F())}}))}function Ce(){const e=Object(O.p)();return l.a.createElement("form",{id:"site-form"},l.a.createElement("div",{className:"label-login"},"Registration confirmation was sent to your e-mail. Click OK to be logged in with your new account."),l.a.createElement("input",{className:"button",type:"button",name:"ok",value:"OK",onClick:()=>{e(0)}}))}function Se(e){let{setForm:t,setBlockClose:a}=e;const[o,r]=Object(n.useState)(null),[s,i]=Object(n.useState)(""),[m,d]=Object(n.useState)(!1),[u,{loading:p}]=Object(J.a)(oe);return l.a.createElement(l.a.Fragment,null,p?l.a.createElement(we,null):l.a.createElement("form",{id:"site-form"},l.a.createElement("div",{className:"title-label"},"PASSWORD RESET"),o?l.a.createElement("div",{className:"error-label"},o):null,l.a.createElement("div",{className:"label-login"},"E-mail"),l.a.createElement("input",{className:"field-login",type:"email",name:"email",value:s,onChange:e=>{i(e.target.value)}}),l.a.createElement("div",{className:"label-login"},"I'm not a bot"),l.a.createElement("input",{className:"human-check",type:"checkbox",name:"human",value:"human",onChange:e=>d(e.target.checked)}),l.a.createElement("input",{className:"button",type:"submit",name:"send",value:"Request",onClick:e=>{!function(e){e.preventDefault(),c(s)?(a(!0),u({variables:{username:s}}).then(e=>t(0)).catch(e=>r("E-mail could not be sent."))):c(s)?r("Check that all fields are filled."):r("Invalid e-mail provided.")}(e)},disabled:!m||!s.length>0||p})))}function ke(){const e=Object(P.c)(e=>e.modal.value),[t,a]=Object(n.useState)(0),[o,r]=Object(n.useState)(!1),c=Object(P.b)(),{loggedIn:s,loading:i,user:m}=he(),[d]=Object(J.a)(te,{refetchQueries:[{query:ae}]});return l.a.createElement("div",{id:"usercontrol"},0===t&&e.show&&l.a.createElement(pe,{children:l.a.createElement(je,null),disableClose:!1}),1===t&&e.show&&l.a.createElement(pe,{children:l.a.createElement(ge,{setForm:a}),disableClose:!1}),2===t&&e.show&&l.a.createElement(pe,{children:l.a.createElement(Oe,{setForm:a,setBlockClose:r}),disableClose:o}),3===t&&e.show&&l.a.createElement(pe,{children:l.a.createElement(Se,{setForm:a,setBlockClose:r}),disableClose:o}),4===t&&e.show&&l.a.createElement(pe,{children:l.a.createElement(Ce,null),disableClose:o}),!s&&!i&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"userbutton",onClick:()=>{a(1),c(T())}},l.a.createElement("span",{role:"img","aria-label":"head"},"\ud83d\udc64")," Log In or Sign Up")),s&&!i&&l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{className:"userbutton",href:b},l.a.createElement("span",{role:"img","aria-label":"head"},"\ud83d\udc64")," ",m.username),l.a.createElement("span",{className:"userbutton",onClick:()=>{d()}},l.a.createElement("span",{role:"img","aria-label":"door"},"\ud83d\udeaa")," Log Out")),i&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"userbutton"},l.a.createElement("span",{role:"img","aria-label":"hourglass"},"\u23f3")," Loading...")))}function Ie(){return l.a.createElement("div",{className:"footer-row"},l.a.createElement("div",{id:"logo-footer"},l.a.createElement("img",{src:C.a,alt:"Logo"})),l.a.createElement("div",{id:"logotext-footer"},l.a.createElement("img",{src:k.a,alt:"Logo Text"})),l.a.createElement("div",{className:"footer-about"},l.a.createElement("span",{className:"footer-span"},"A privacy focused travel community site.")),l.a.createElement("div",{className:"footer-buttons"},l.a.createElement("a",{className:"footer-button",href:N},"Privacy Policy")))}var Pe=()=>l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"head-wrap"},l.a.createElement("div",{id:"head-container"},l.a.createElement(I,null),l.a.createElement(ke,null))),l.a.createElement("div",{id:"content-wrap"},l.a.createElement(O.a,null)),l.a.createElement("div",{id:"footer-wrap"},l.a.createElement(Ie,null)));async function $e(e){try{const t=await fetch(e);return await t.json()}catch{return{message:"Access Error"}}}const _e=[{id:0,date:null,date_gmt:null,guid:{rendered:""},modified:null,modified_gmt:null,slug:null,status:null,type:null,link:null,title:{rendered:""},content:{rendered:"",protected:!1},excerpt:{rendered:"",protected:!1},author:0,featured_media:0,parent:0,menu_order:0,comment_status:"closed",ping_status:"closed",template:"",meta:{footnotes:""},_links:{self:[],collection:[],about:[],author:[],replies:[],"version-history":[],"predecessor-version":[],"wp:attachment":[],curies:[{name:"wp",href:"https://api.w.org/{rel}",templated:!0}]}}],Le=Object($.b)({name:"content",initialState:{value:_e},reducers:{pushContent:(e,t)=>{e.value=t.payload},purgeContent:e=>{e.value=_e}}}),{pushContent:xe,purgeContent:Te}=Le.actions;var Fe=Le.reducer;function Ue(e){let{route:t}=e;const a=Object(P.b)(),o=Object(P.c)(e=>e.content.value);Object(n.useEffect)(()=>{$e(t).then(e=>{a(xe(e))})},[a,t]);const r=o[0].content.rendered.replace(/(<([^>]+)>)/gi,"").split(/\s+/).filter(e=>""!==e);return l.a.createElement("div",{id:"card-container"},r.map((e,t)=>{const[a,n,o]=e.split(":");return l.a.createElement("a",{key:t,href:n,className:"card"},l.a.createElement("img",{className:"card-photo",alt:a,src:"".concat(u,"/").concat(o)}),l.a.createElement("div",{className:"card-text"},a))}))}function We(){const e=p+"main-menu",{loading:t,error:a,data:n}=Object(be.a)(ue),o=Object(O.p)();return l.a.createElement("div",null,l.a.createElement("div",{id:"heading-container"},l.a.createElement("h2",null,"Quick Links")),l.a.createElement(Ue,{route:e}),!a&&!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"heading-container"},l.a.createElement("h2",null,"Latest Posts")),l.a.createElement("div",{className:"forum-section"},n.posts.edges.map(e=>l.a.createElement("div",{key:e.node.databaseId,className:"forum-recent",onClick:()=>o(i("/")+e.node.uri.slice(1,-1))},l.a.createElement("span",{className:"bubble",role:"img","aria-label":"topic"},l.a.createElement("img",{alt:"avatar",src:e.node.author.node.avatar.url})),l.a.createElement("div",null,l.a.createElement("div",{className:"forum-topic-name"},e.node.title),l.a.createElement("div",{className:"forum-topic-description"},"By ",e.node.author.node.name," ",m(e.node.date))))))))}var Ae=()=>l.a.createElement("div",{className:"slide"},"Resource not found");function Be(e){let{pkey:t,login:a}=e;const o=Object(O.p)(),[r,c]=Object(n.useState)(null),[m,d]=Object(n.useState)(""),[u,p]=Object(n.useState)(""),[g,{loading:b}]=Object(J.a)(le);return l.a.createElement(l.a.Fragment,null,b?l.a.createElement(we,null):l.a.createElement("form",{id:"site-form"},l.a.createElement("div",{className:"title-label"},"PASSWORD RESET"),r?l.a.createElement("div",{className:"error-label"},r):null,l.a.createElement("div",{className:"label-login"},"New password for ",a),l.a.createElement("div",{className:"label-login"},"Password"),l.a.createElement("input",{className:"field-login",type:"password",name:"password",value:m,onChange:e=>{d(e.target.value)}}),l.a.createElement("div",{className:"label-login"},"Confirm Password"),l.a.createElement("input",{className:"field-login",type:"password",name:"confirm-password",value:u,onChange:e=>{p(e.target.value)}}),l.a.createElement(ye.a,{className:"password-bar",password:m,scoreWords:["Weak","Acceptable","Good","Strong","Excellent"],shortScoreWord:"Weak"}),l.a.createElement("input",{className:"button",type:"submit",name:"reset",value:"Reset",onClick:e=>{!function(e){e.preventDefault(),m.length>0&&s(m,u)?g({variables:{key:t,login:a,password:m}}).then(e=>o(i("/"))).catch(e=>c("Error resetting password.")):s(m,u)?c("Check that all fields are filled."):c("Passwords do not match.")}(e)},disabled:b}),l.a.createElement("span",{className:"link-label",onClick:()=>{o(i("/"))}},"Cancel")))}function De(e){let{currentUrl:t}=e;const a=Object(O.p)(),[o,r]=Object(n.useState)(),[c,s]=Object(n.useState)();return Object(n.useEffect)(()=>{if(t&&t.includes("set-password")){const e=new URLSearchParams(t),a=[];e.forEach(e=>a.push(e)),r(a[0]),s(a[1])}else a(i("/"))},[t,a]),l.a.createElement(pe,{children:l.a.createElement(Be,{pkey:o,login:c})})}const Re=[{id:1,count:1,description:"",link:"https://localhost/WordPress/category/uncategorized/",name:"Uncategorized",slug:"uncategorized",taxonomy:"category",parent:0,meta:[],_links:{self:[{href:"https://localhost/WordPress/wp-json/wp/v2/categories/1"}],collection:[{href:"https://localhost/WordPress/wp-json/wp/v2/categories"}],about:[{href:"https://localhost/WordPress/wp-json/wp/v2/taxonomies/category"}],"wp:post_type":[{href:"https://localhost/WordPress/wp-json/wp/v2/posts?categories=1"}],curies:[{name:"wp",href:"https://api.w.org/{rel}",templated:!0}]}}],Me=Object($.b)({name:"forumContent",initialState:{value:Re},reducers:{pushForumContent:(e,t)=>{e.value=t.payload},purgeForumContent:e=>{e.value=Re}}}),{pushForumContent:qe,purgeForumContent:He}=Me.actions;var ze=Me.reducer;var Ge=e=>{let{topics:t,headings:a,handleNavigation:n}=e;return t&&a&&l.a.createElement("div",{className:"forum-list-container"},a.map(e=>l.a.createElement("div",{className:"forum-section",key:e.id},l.a.createElement("div",{className:"forum-category"},e.name),t.filter(t=>t.parent===e.id).map(e=>l.a.createElement("div",{key:e.id,className:"forum-topic",onClick:()=>n(e.id)},l.a.createElement("span",{className:"bubble",role:"img","aria-label":"topic"},"\ud83d\udde8\ufe0f"),l.a.createElement("div",null,l.a.createElement("div",{className:"forum-topic-name"},e.name),l.a.createElement("div",{className:"forum-topic-description"},e.description)))))))};var Ye=function(){const e=g,t=Object(P.c)(e=>e.forum.value),a=Object(P.b)(),o=Object(O.p)(),r=[],c=[];return Object(n.useEffect)(()=>{$e(e).then(e=>{a(qe(e))})},[a,e]),t.forEach(e=>{e.parent>0?c.push({id:e.id,name:e.name,slug:e.slug,description:e.description,parent:e.parent}):"all"!==e.slug&&r.push({id:e.id,name:e.description})}),l.a.createElement(Ge,{handleNavigation:e=>{o("".concat(h,"/:").concat(e))},headings:r,topics:c})},Ke=a(35),Qe=a.n(Ke);a(62);var Ze=e=>{let{category:t,heading:a,topic:n,handleNavigation:o,handleNewTopic:r,error:c,loading:s,setNewTopicOpen:i,newTopicOpen:d,content:u,setContent:p,title:g,setTitle:b,newTopicLoading:E,newTopicDisabled:v}=e;return l.a.createElement("div",{className:"forum-list-container"},l.a.createElement("div",{className:"forum-section"},l.a.createElement("div",{className:"forum-category"},d?"New topic in "+t.categoryName:t.categoryName),l.a.createElement("div",null,a),!d&&n.map(e=>l.a.createElement("div",{key:e.postId,id:e.postId,className:"forum-topic",onClick:()=>o(e.postId)},l.a.createElement("span",{className:"bubble",role:"img","aria-label":"topic"},"\ud83d\udde8\ufe0f"),l.a.createElement("div",null,l.a.createElement("div",{className:"forum-topic-name"},e.title),l.a.createElement("div",{className:"forum-topic-description"},"By ",e.author.node.name," ",m(e.date)))))),!c&&!s&&(d?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"new-topic-container"},l.a.createElement("input",{className:"new-topic-title",type:"text",name:"title",placeholder:"Topic title",value:g,onChange:e=>{b(e.target.value)}})),l.a.createElement("div",{id:"text-editor-container"},l.a.createElement(Qe.a,{theme:"snow",value:u,onChange:p})),l.a.createElement("button",{disabled:E||"<p><br></p>"===u||!u||!g||v,onClick:()=>r(),className:"forum-button"},"Add topic"),l.a.createElement("button",{onClick:()=>i(!1),className:"forum-button right-offset"},"Cancel")):l.a.createElement(l.a.Fragment,null,v?l.a.createElement("div",null,"You must be logged in to create a new topic."):l.a.createElement("button",{onClick:()=>i(!0),className:"forum-button"},"New topic"))))};const Je={categoryId:null,categoryName:null,categorySlug:null},Ve=Object($.b)({name:"category",initialState:{value:Je},reducers:{setCategory:(e,t)=>{e.value=t.payload},purgeCategory:e=>{e.value=Je}}}),{setCategory:Xe,purgeCategory:et}=Ve.actions;var tt=Ve.reducer;var at=function(){const{loggedIn:e,user:t}=he(),{fromUrlCategoryId:a}=Object(O.r)(),o=Number(a.replace(":","")),r=Object(P.b)(),c=g,s=Object(P.c)(e=>e.category.value),i=Object(O.p)(),[m,d]=Object(n.useState)([]),[u,p]=Object(n.useState)(""),[b,E]=Object(n.useState)(s.categoryName),[h,y]=Object(n.useState)(""),[N,w]=Object(n.useState)(!1),[j,{loading:C}]=Object(J.a)(ie),{loading:S,error:k,data:I}=Object(be.a)(re,{variables:{categoryId:o}});return Object(n.useEffect)(()=>{$e("".concat(c,"/").concat(o)).then(e=>{r(Xe({categoryId:e.id,categoryName:e.name,categorySlug:e.slug}))}),S?E("Loading..."):k||o<1?i(v):I.posts.nodes[0]?(E(null),d(I.posts.nodes)):E("Nothing to show here. Feel free to add a topic.")},[S,o]),l.a.createElement(Ze,{category:s,error:k,heading:b,topic:m,loading:S,newTopicOpen:N,content:h,title:u,newTopicLoading:C,newTopicDisabled:!e,setTitle:p,handleNavigation:e=>{i("".concat(f,"/:").concat(e))},handleNewTopic:()=>{j({variables:{slug:s.categorySlug,title:u,content:h}}).then(e=>((e,a)=>{const n={__typename:"Post",postId:e,title:a,author:{__typename:"NodeWithAuthorToUserConnectionEdge",node:{__typename:"User",name:t.username}},isSticky:!1,editingLockedBy:null};d([...m,n])})(e.data.createPost.post.postId,u)),w(!1)},setNewTopicOpen:w,setContent:y})};const nt=e=>({__html:e});var lt=e=>{let{postLoading:t,loggedIn:a,topic:n,error:o,replyOpen:r,setReplyOpen:c,replyLoading:s,replyDisabled:i,submitReply:d,renderHTML:u,setContent:p,content:g}=e;return l.a.createElement("div",{className:"forum-list-container"},t&&l.a.createElement("div",{className:"forum-section"},l.a.createElement("div",null,"Loading...")),n&&!o&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"forum-section"},l.a.createElement("div",{className:"forum-category"},n.title),l.a.createElement("div",{className:"forum-post"},l.a.createElement("div",{className:"forum-post-owner"},l.a.createElement("img",{alt:"avatar",src:n.author.node.avatar.url}),n.author.node.name),l.a.createElement("div",{className:"forum-post-info"},"Post #1 ",m(n.date)),l.a.createElement("div",{dangerouslySetInnerHTML:u(n.content)})),n.comments.edges.map((e,t)=>l.a.createElement("div",{key:e.node.databaseId,className:"forum-post"},l.a.createElement("div",{className:"forum-post-owner"},l.a.createElement("img",{alt:"avatar",src:e.node.author.node.avatar.url}),e.node.author.node.name),l.a.createElement("div",{className:"forum-post-info"},"Post #",t+2," ",m(e.node.date)),l.a.createElement("div",{dangerouslySetInnerHTML:u(e.node.content)})))),r?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"text-editor-container"},l.a.createElement(Qe.a,{theme:"snow",value:g,onChange:p})),l.a.createElement("button",{className:"forum-button",disabled:s||"<p><br></p>"===g||!g||i,onClick:()=>d()},"Add reply")):l.a.createElement(l.a.Fragment,null,i?a?l.a.createElement("div",null,"You replied to this post."):l.a.createElement("div",null,"You must be logged in to post a reply."):l.a.createElement("button",{className:"forum-button",onClick:()=>c(!0)},"Add reply"))))};var ot=function(){const{loggedIn:e,user:t}=he(),{fromUrlPostId:a}=Object(O.r)(),o=Number(a.replace(":","")),[r,c]=Object(n.useState)(!1),[s,i]=Object(n.useState)(),[m,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)(""),[g,b]=Object(n.useState)(""),[E,h]=Object(n.useState)(),{loading:f,error:y,data:N}=Object(be.a)(me,{variables:{postId:o}}),[w,{loading:j}]=Object(J.a)(de),C=Object(O.p)();return Object(n.useEffect)(()=>{y?C(v):N&&(h(N.posts.nodes[0]),N.posts.nodes[0].comments.edges.length>0?i(N.posts.nodes[0].comments.edges.slice(-1)[0].node.author.node.databaseId):i(N.posts.nodes[0].author.node.databaseId),d(t&&t.databaseId===s))},[y,N,s,C,t]),l.a.createElement(lt,{postLoading:f,loggedIn:e,topic:E,error:y,content:u,title:g,setTitle:b,setReplyOpen:c,setContent:p,submitReply:()=>{c(!1),d(!0),w({variables:{commentOn:o,content:u}}).then(()=>(e=>{const a={__typename:"PostToCommentConnectionEdge",node:{__typename:"Comment",databaseId:0,content:e,author:{__typename:"CommentToCommenterConnectionEdge",node:{__typename:"User",name:t.username,avatar:t.avatar}}}},n=[...E.comments.edges,a],l={...E.comments,edges:n};!j&&h({...E,comments:l})})(u))},replyOpen:r,replyLoading:j,replyDisabled:!e||m,renderHTML:nt})},rt=a(198),ct=a(92),st=a(199),it=a(201);const mt=Object(ct.a)({uri:d,credentials:"include"}),dt=new st.a({cache:new it.a,link:mt});function ut(){const{user:e,loggedIn:t}=he();return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement("div",{className:"slide"},l.a.createElement("p",null,"Welcome ",e.username),l.a.createElement("a",{href:E},"Delete my account...")))}var pt=e=>{let{slug:t}=e;const a=p+t,o=Object(P.c)(e=>e.content.value),r=Object(P.b)();return Object(n.useEffect)(()=>{$e(a).then(e=>{r(xe(e))})},[r,a]),l.a.createElement("div",{className:"forum-list-container"},l.a.createElement("div",{dangerouslySetInnerHTML:nt(o[0].content.rendered)}))};var gt=e=>{let{loading:t,error:a,data:n,loggedIn:o,newEventOpen:r,title:c,content:s,category:i,date:d,duration:u,location:p,setDate:g,setTitle:b,setContent:E,setCategory:v,setDuration:h,setLocation:f,setNewEventOpen:y,handleNewEvent:N}=e;return l.a.createElement("div",{className:"forum-list-container"},r?l.a.createElement("div",{className:"forum-category"},"Add a new event"):l.a.createElement("div",{className:"forum-section"},l.a.createElement("div",{className:"forum-category"},!t&&!a&&n&&n.posts.nodes.map((e,t)=>l.a.createElement("div",{key:e.postId,className:"forum-post"},l.a.createElement("div",{className:"forum-post-info"},"Event #",t+1," created by ",e.author.node.name," ",m(e.date)),l.a.createElement("div",{dangerouslySetInnerHTML:nt(e.content)}))))),o?l.a.createElement(l.a.Fragment,null," ",r?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"new-topic-container"},l.a.createElement("input",{className:"new-topic-title",type:"text",name:"title",placeholder:"Event title",value:c,onChange:e=>{b(e.target.value)}})),l.a.createElement("div",{id:"new-topic-container"},l.a.createElement("input",{className:"new-topic-title",type:"text",name:"category",placeholder:"Event category",value:i,onChange:e=>{v(e.target.value)}})),l.a.createElement("div",{id:"new-topic-container"},l.a.createElement("input",{className:"new-topic-title",type:"text",name:"duration",placeholder:"Event duration",value:u,onChange:e=>{h(e.target.value)}})),l.a.createElement("div",{id:"new-topic-container"},l.a.createElement("input",{className:"new-topic-title",type:"text",name:"location",placeholder:"Event location",value:p,onChange:e=>{f(e.target.value)}})),l.a.createElement("div",{id:"new-topic-container"},l.a.createElement("input",{className:"new-topic-title",type:"text",name:"date",placeholder:"Event date",value:d,onChange:e=>{g(e.target.value)}})),l.a.createElement("div",{id:"text-editor-container"},l.a.createElement(Qe.a,{theme:"snow",value:s,onChange:E})),l.a.createElement("button",{className:"forum-button",onClick:()=>N(),disabled:!c||!i||!u||!p||!d||!s},"New event"),l.a.createElement("button",{className:"forum-button right-offset",onClick:()=>y(!1)},"Cancel")):l.a.createElement(l.a.Fragment,null,!t&&!a&&n&&0===n.posts.nodes.length&&l.a.createElement("div",{className:"forum-category"},"Nothing to show here... Add an event!"),l.a.createElement("button",{className:"forum-button",onClick:()=>y(!0)},"New event"))):l.a.createElement("div",null,"You must be logged in to create an event."))};function bt(){const[e,t]=Object(n.useState)(!1),[a,o]=Object(n.useState)(),[r,c]=Object(n.useState)(),[s,i]=Object(n.useState)(),[m,d]=Object(n.useState)(),[u,p]=Object(n.useState)(),[g,b]=Object(n.useState)(),[E,v]=Object(n.useState)(),{loggedIn:h,user:f}=he(),{loading:y,error:N,data:w}=Object(be.a)(ce,{variables:{categoryName:"events-sub"}}),[O]=Object(J.a)(se);Object(n.useEffect)(()=>{o(w)},[w]);return l.a.createElement(gt,{loading:y,error:N,data:a,loggedIn:h,newEventOpen:e,title:s,content:m,category:u,date:r,duration:g,location:E,setTitle:i,setDate:c,setContent:d,setCategory:p,setDuration:b,setLocation:v,setNewEventOpen:t,handleNewEvent:()=>{O({variables:{slug:"events-sub",title:s,content:m}}).then(e=>((e,t)=>{const n={__typename:"Post",postId:e,title:t,content:m,author:{__typename:"NodeWithAuthorToUserConnectionEdge",node:{__typename:"User",name:f.username}},isSticky:!1,editingLockedBy:null};o({posts:{nodes:[n,...a.posts.nodes]}})})(e.data.createPost.post.postId,s)),t(!1)}})}function Et(){const e=window.location.href;return l.a.createElement(rt.a,{client:dt},l.a.createElement(ve,null,l.a.createElement(w.a,null,l.a.createElement(O.d,null,l.a.createElement(O.b,{path:"/",element:l.a.createElement(Pe,null)},l.a.createElement(O.b,{index:!0,element:l.a.createElement(We,null)}),l.a.createElement(O.b,{path:"set-password",element:l.a.createElement(De,{currentUrl:e})}),l.a.createElement(O.b,{exact:!0,path:v,element:l.a.createElement(Ye,null)}),l.a.createElement(O.b,{path:"".concat(h,"/:fromUrlCategoryId"),element:l.a.createElement(at,null)}),l.a.createElement(O.b,{path:"".concat(f,"/:fromUrlPostId"),element:l.a.createElement(ot,null)}),l.a.createElement(O.b,{path:"".concat(y),element:l.a.createElement(bt,null)}),l.a.createElement(O.b,{path:"".concat(b),element:l.a.createElement(ut,null)}),l.a.createElement(O.b,{path:"".concat(N),element:l.a.createElement(pt,{slug:"privacy-policy"})}),l.a.createElement(O.b,{path:"*",element:l.a.createElement(Ae,null)}))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const vt=Object($.a)({reducer:{modal:Z,content:Fe,forum:ze,category:tt}});r.a.createRoot(document.getElementById("root")).render(l.a.createElement(P.a,{store:vt},l.a.createElement(Et,null))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},52:function(e,t,a){e.exports=a.p+"static/media/logo.e9286273.svg"},53:function(e,t,a){e.exports=a.p+"static/media/logotext.1ad91849.svg"},98:function(e,t,a){e.exports=a(184)}},[[98,1,2]]]);
//# sourceMappingURL=main.chunk.js.map